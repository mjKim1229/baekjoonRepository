-- 코드를 입력하세요
#서울에 위치 
#식당 ID, 식당 이름, 음식 종류, 즐겨찾기수, 주소, 리뷰 평균 점수
#평균 점수 : 소수 3번째 자리에서 반올림 
# 평균점수 기준 내림차순 , 즐겨찾기 수 내림차순

SELECT REST_ID, REST_NAME, FOOD_TYPE, FAVORITES, ADDRESS, ROUND(AVG(REVIEW_SCORE),2) AS SCORE 
FROM REST_INFO INNER JOIN REST_REVIEW 
USING (REST_ID)
WHERE SUBSTR(ADDRESS,1,2) = '서울'
GROUP BY (REST_ID)
ORDER BY SCORE DESC, FAVORITES DESC 

# SELECT REST_ID, REST_NAME, FOOD_TYPE,  FAVORITES, ADDRESS, 
# ROUND(AVG(REVIEW_SCORE),2) AS SCORE 
# FROM REST_INFO INNER JOIN REST_REVIEW USING(REST_ID)
# WHERE SUBSTR(ADDRESS,1,2) = '서울'
# GROUP BY REST_ID
# ORDER BY SCORE DESC, FAVORITES DESC